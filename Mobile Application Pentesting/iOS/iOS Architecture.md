Restricted environment and iOS are isolated, system API access are limited and offers few Inter Process Communication (IPC)
- Apps are distributed in IPA (iOS App Store Package) format, IPA compressed zip file.
## Architecture
![](../../img/Pasted%20image%2020260109234650.png)
1. Core OS Layer: Darwin OS
	- Kernel: 'xnu' kernel
	- Device Drivers: interfaces with hardware components
	- Security Frameworks: handles encryption, certificates, and secure storage
	- File System
2. Core Services Layer
	- Contains frameworks and API developer can use during development.
	- Foundation Framework: provides data types, collections and other utility classes.
	- Core Location: APIs to location-based services GPS, Wi-Fi, cellular data.
	- Networking: APIs for network communication, HTTP and Bluetooth.
	- CloudKit: Cloud storage and data synchronization services.
	- WebKit: Integrate web content in app's native content.
3. Media Layer 
	- Core Graphics: handles 2D rendering and animations
	- Core Animation: smooth and efficient animations
	- Core Image: image processing.
	- AVFoundation: manages audio and video playback, recording and processing.
4. Cocoa Touch Layer
	- UIKit: provide building blocks for constructing user interface (buttons, textboxes...)
	- Event Handling: manage touch, motion, remote control events.
	- Multitasking: manage application backgrounding.
	- Push notifications: handle the reception and processing of remote notifications.
## Security Features
**Secure Enclave**
![](../../img/Pasted%20image%2020260110003733.png)
-  Cryptography: the secure enclave generates and manages encryption keys that are isolated from the rest of the system.
- Biometric data is encrypted and stored only within the Secure Enclave.
**Hardware Root of Trust**
- Boot ROM: first code executed when iOS is powered on, it is immutable.
- Chain of Trust: each stage of boot process is signed and verified by previous stage.
**Device Encryption**
- File Encryption, file is encrypted with a unique key tied to user's passcode and device's UID.
- Data Protection Classes, uses different levels of protection on the type of data and its importance, certain file are only accessible when device is unlocked.
![](../../img/Pasted%20image%2020260110004139.png)
**App Sandbox**
- Each app runs in its own sandboxed environment, limit its interactions with other apps and operating system.
- App must request permission to access resources like camera...
**Developer Certificates**
- All iOS apps must be signed with a valid Apple-issued certificate, this prevent tampering.
**Runtime Integrity**
- iOS continually verifies the code signature of running applications.
**Patch Management**
**Enforce Updating**
**Secure Communication**
- HTTPs everywhere: iOS encourages use of HTTPs for secure web communication, with apps required to support it by default.
- iOS supports VPNS and secure Wi-Fi connections.  