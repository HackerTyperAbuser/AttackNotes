**`OpenSSH Config File: /etc/ssh/sshd_config | grep -v “#” | sed -r ‘/^\\s*$/d’`**
Dangerous Settings
![[Pasted image 20251031143111.png]]
Auditing SSH
```bash
ssh-audit <TARGET>
```
## Methodologies

- Connecting to SSH service, for **banner grabbing**

```bash
ssh [users]@[target]
```

- Connecting to SSH service using netcat, for **banner grabbing**

```bash
nc [target] [port number]
```

- SSH enumeration for **banner grabbing**.

```bash
ssh {ip} -oKexAlgorithms=+{key exchange method} -c {cipher}
```

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/87ef5288-5a42-4f2f-ba67-7679fc647188/d091624f-7221-4e9d-9f9f-4b2526e7f13c/Untitled.png)

- Enumerating **algorithms** on SSH.

```bash
nmap -p [port number] --script ssh2-enum-algos [target]
```

- Enumerating **SSH host keys.**

```bash
nmap -p [port number] --script ssh-hostkey --script-args ssh_hostkey=[type] [target]
```

- SSH **authentication methods** for users

```bash
nmap -p [port number] --script ssh-auth-methods --script-args ssh.user=[username] [target]
```

- **Brute forcing** SSH with hydra

```bash
hydra -L [users_wordlist] -P [pass_wordlist] [target] ssh 
```

- **Brute forcing** SSH with nmap

```bash
nmap -p [port number] --script ssh-brute [target]
```
### Metasploit
Brute forcing SSH with Metasploit
```
auxiliary/scanner/ssh/ssh_login
```
SSH version
```
auxiliary/scanner/ssh/ssh_version
```
Enumerating SSH users
```
auxiliary/scanner/ssh/ssh_enumusers
```